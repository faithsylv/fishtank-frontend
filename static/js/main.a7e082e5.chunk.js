(this["webpackJsonpfishtank-frontend"]=this["webpackJsonpfishtank-frontend"]||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(24),c=n.n(o),i=(n(37),n(38),n(14)),l=n(15),r=n(9),u=n(19),d=n(18),j=n(10),b=n(2),h=n(1),p=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:"I'm the homepage!"})}}]),n}(a.Component),O=n(31),m=function(e){return Object(O.a)(e),Object(h.jsx)("div",{children:"I'm the About page!"})},g=n(12),f=n.n(g),x=n(13),v=n(16),S=n(4),M=s.a.createContext([{},function(){}]),C=function(e){var t=Object(a.useState)("initialState"),n=Object(S.a)(t,2),s=n[0],o=n[1];return Object(h.jsx)(M.Provider,{value:[s,o],children:e.children})},k=n(17),w=n.n(k),I=function(e){var t=Object(a.useState)(!1),n=Object(S.a)(t,2),s=n[0],o=n[1],c=Object(a.useState)(""),i=Object(S.a)(c,2),l=(i[0],i[1]),r=Object(a.useState)(M),u=Object(S.a)(r,2),d=(u[0],u[1]),j=Object(a.useState)(""),b=Object(S.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),g=Object(S.a)(m,2),C=g[0],k=g[1];return Object(h.jsx)("div",{className:"login-component",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o(!0),w()(".form-button").html("Logging in..."),l("");var n="Something went wrong! Please try again.";fetch("http://localhost:8081/users/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p,password:C})}).then(function(){var t=Object(v.a)(f.a.mark((function t(a){var s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(!1),a.ok){t.next=5;break}400===a.status?l("Please fill all the fields correctly!"):401===a.status?l("Invalid email and password combination."):l(n),t.next=10;break;case 5:return t.next=7,a.json();case 7:s=t.sent,d((function(e){return Object(x.a)(Object(x.a)({},e),{},{token:s.token})})),e.handleClose();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){o(!1),l(n)}))},className:"login-form",children:[Object(h.jsx)("input",{className:"input-item email",placeholder:"email",type:"email",name:"email",value:p,onInput:function(e){return O(e.target.value)}}),Object(h.jsx)("input",{className:"input-item password",placeholder:"password",type:"password",name:"password",value:C,onInput:function(e){return k(e.target.value)}}),Object(h.jsx)("button",{className:"form-button",type:"submit",disabled:s,children:"Log In"})]})})},y=function(e){var t=Object(a.useState)(!1),n=Object(S.a)(t,2),s=n[0],o=n[1],c=Object(a.useState)(""),i=Object(S.a)(c,2),l=(i[0],i[1]),r=Object(a.useState)(M),u=Object(S.a)(r,2),d=(u[0],u[1]),j=Object(a.useState)(""),b=Object(S.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),g=Object(S.a)(m,2),C=g[0],k=g[1],I=Object(a.useState)(""),y=Object(S.a)(I,2),N=y[0],L=y[1],U=Object(a.useState)(""),P=Object(S.a)(U,2),T=P[0],A=P[1],F=Object(a.useState)(""),J=Object(S.a)(F,2),D=J[0],R=J[1];return Object(h.jsx)("div",{className:"login-component",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o(!0),w()(".form-button").html("Signing you up..."),l("");var n="Something went wrong! Please try again later.";fetch("http://localhost:8081/users/signup",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:p,lastName:C,institutionName:N,username:T,password:D})}).then(function(){var t=Object(v.a)(f.a.mark((function t(a){var s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(!1),a.ok){t.next=21;break}if(400!==a.status){t.next=6;break}l("Please fill all the fields correctly!"),t.next=19;break;case 6:if(401!==a.status){t.next=10;break}l("Invalid email and password combination."),t.next=19;break;case 10:if(500!==a.status){t.next=18;break}return console.log(a),t.next=14,a.json();case 14:(s=t.sent).message&&l(s.message||n),t.next=19;break;case 18:l(n);case 19:t.next=26;break;case 21:return t.next=23,a.json();case 23:c=t.sent,d((function(e){return Object(x.a)(Object(x.a)({},e),{},{token:c.token})})),e.handleClose();case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){o(!1),l(n)}))},className:"login-form",children:[Object(h.jsx)("input",{className:"input-item first-name",placeholder:"First Name",name:"first-name",value:p,onInput:function(e){return O(e.target.value)}}),Object(h.jsx)("input",{className:"input-item last-name",placeholder:"LastName",name:"last-name",value:C,onInput:function(e){return k(e.target.value)}}),Object(h.jsx)("input",{className:"input-item institution-name",placeholder:"Institution Name",name:"institution-name",value:N,onInput:function(e){return L(e.target.value)}}),Object(h.jsx)("input",{className:"input-item email",placeholder:"email",type:"email",name:"email",value:T,onInput:function(e){return A(e.target.value)}}),Object(h.jsx)("input",{className:"input-item password",placeholder:"password",type:"password",name:"password",value:D,onInput:function(e){return R(e.target.value)}}),Object(h.jsx)("button",{className:"form-button",type:"submit",disabled:s,children:"Sign up"})]})})},N=n(20),L=n.n(N);L.a.setAppElement("#root");var U=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={showLogInModal:!1,showSignUpModal:""},e.handleOpenLogInModal=e.handleOpenLogInModal.bind(Object(r.a)(e)),e.handleCloseLogInModal=e.handleCloseLogInModal.bind(Object(r.a)(e)),e.handleOpenSignUpModal=e.handleOpenSignUpModal.bind(Object(r.a)(e)),e.handleCloseSignUpModal=e.handleCloseSignUpModal.bind(Object(r.a)(e)),e}return Object(l.a)(n,[{key:"handleOpenLogInModal",value:function(){!0===this.state.showSignUpModal&&this.setState({showSignUpModal:!1}),this.setState({showLogInModal:!0})}},{key:"handleCloseLogInModal",value:function(){this.setState({showLogInModal:!1})}},{key:"handleOpenSignUpModal",value:function(){!0===this.state.showLogInModal&&this.setState({showLoginModal:!1}),this.setState({showSignUpModal:!0})}},{key:"handleCloseSignUpModal",value:function(){this.setState({showSignUpModal:!1})}},{key:"render",value:function(){return Object(h.jsx)(j.a,{children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(j.b,{to:"/",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(j.b,{to:"/about",children:"About Us"})}),Object(h.jsx)("li",{children:Object(h.jsx)(j.b,{to:"/research-project",children:"Open Source Research"})}),Object(h.jsx)("li",{children:Object(h.jsx)(j.b,{to:"/research-project/contribute",children:"Contribute"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:this.handleOpenLogInModal,className:"login-button",children:"Log In"}),Object(h.jsxs)(L.a,{isOpen:this.state.showLogInModal,className:"Modal login",overlayClassName:"Overlay",onRequestClose:this.handleCloseLogInModal,contentLabel:"login popup",children:[Object(h.jsx)("button",{onClick:this.handleCloseLogInModal,className:"modal-close",children:"X"}),Object(h.jsx)(I,{handleClose:this.handleCloseLogInModal}),Object(h.jsxs)("div",{children:["Not a member?  ",Object(h.jsx)("a",{onClick:this.handleOpenSignUpModal,children:"Sign Up"})]})]}),Object(h.jsx)("button",{onClick:this.handleOpenSignUpModal,className:"login-button",children:"Sign Up"}),Object(h.jsxs)(L.a,{isOpen:this.state.showSignUpModal,className:"Modal login",overlayClassName:"Overlay",onRequestClose:this.handleCloseSignUpModal,contentLabel:"login popup",children:[Object(h.jsx)("button",{onClick:this.handleCloseSignUpModal,className:"modal-close",children:"X"}),Object(h.jsx)(y,{handleClose:this.handleCloseSignUpModal}),Object(h.jsxs)("div",{children:["Already a member?  ",Object(h.jsx)("a",{onClick:this.handleOpenLogInModal,children:"Log In"})]})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.a,{exact:!0,path:"/",children:Object(h.jsx)(p,{})}),Object(h.jsx)(b.a,{exact:!0,path:"/about",children:Object(h.jsx)(m,{})}),Object(h.jsx)(b.a,{exact:!0,path:"/about",children:Object(h.jsx)(m,{})})]})]})})}}]),n}(a.Component);var P=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(U,{})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),o(e),c(e)}))};n(58).config(),c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(C,{children:Object(h.jsx)(P,{})})}),document.getElementById("root")),T()}},[[61,1,2]]]);
//# sourceMappingURL=main.a7e082e5.chunk.js.map