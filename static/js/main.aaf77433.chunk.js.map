{"version":3,"sources":["contexts/UserContext.js","components/pages/home/index.js","components/pages/about/index.js","components/pages/research/index.js","components/pages/research/Contribute.js","components/registrations/LoginForm.js","components/registrations/SignupForm.js","components/common/Logout.js","components/common/Nav.js","components/App.js","reportWebVitals.js","index.js"],"names":["UserContext","React","createContext","initialState","UserProvider","props","useState","state","setState","Provider","value","children","Home","Component","About","Research","Contribute","useContext","userContext","setUserContext","fetchUserDetails","useCallback","fetch","process","method","credentials","headers","Authorization","token","then","response","a","ok","json","data","oldValues","console","log","details","useEffect","firstName","lastName","LoginForm","history","useHistory","isSubmitting","setIsSubmitting","setError","email","setEmail","password","setPassword","className","onSubmit","event","preventDefault","$","html","genericErrorMessage","body","JSON","stringify","username","status","handleClose","push","catch","error","placeholder","type","name","onInput","target","disabled","SignupForm","setFirstName","setLastName","institutionName","setInstitutionName","message","Logout","onClick","undefined","window","localStorage","setItem","Date","now","Modal","setAppElement","Nav","showLogInModal","setShowLogInModal","showSignUpModal","setShowSignUpModal","handleOpenLogInModal","handleCloseLogInModal","handleOpenSignUpModal","handleCloseSignUpModal","verifyUser","setTimeout","to","isOpen","overlayClassName","onRequestClose","contentLabel","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","require","config","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6RAEMA,EAAcC,IAAMC,cAAc,CAAC,GAAI,eAEzCC,EAAe,GAEbC,EAAe,SAAAC,GACnB,MAA0BC,mBAASH,GAAnC,mBAAOI,EAAP,KAAcC,EAAd,KAEA,OACE,cAACR,EAAYS,SAAb,CAAsBC,MAAO,CAACH,EAAOC,GAArC,SACIH,EAAMM,Y,gCCECC,E,4JATb,WACE,OACE,wD,GAJaC,a,QCMJC,EAND,SAAC,GAAD,sBACZ,uDCUaC,EAXE,SAAC,GAAD,sBACf,68BCkDaC,EAlDI,WACjB,MAAsCC,qBAAWjB,GAAjD,mBAAOkB,EAAP,KAAoBC,EAApB,KAEMC,EAAmBC,uBAAY,WACnCC,MAAMC,iDAAiD,CACrDC,OAAQ,MACRC,YAAa,UAEbC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYT,EAAYU,UAEtCC,KARH,uCAQQ,WAAMC,GAAN,eAAAC,EAAA,0DACFD,EAASE,GADP,gCAEeF,EAASG,OAFxB,OAEEC,EAFF,OAGJf,GAAe,SAAAgB,GAEb,OADAC,QAAQC,IAAI,gBAAiBH,GACtB,2BAAKC,GAAZ,IAAuBG,QAASJ,OAL9B,sBAQFf,GAAe,SAAAgB,GACb,OAAO,2BAAKA,GAAZ,IAAuBG,QAAS,UAThC,2CARR,yDAqBC,CAACnB,EAAgBD,EAAYU,QAShC,OARAW,qBAAU,WAEHrB,EAAYoB,SACflB,MAED,CAACF,EAAYoB,QAASlB,IAIvB,gCACE,oEAEEF,EAAYoB,QACd,4CAGGpB,EAAYoB,QAAQE,UACpBtB,EAAYoB,QAAQG,YALC,O,iBCiDfC,EAlFG,SAACrC,GAEjB,IAAIsC,EAAUC,cAEd,EAAwCtC,oBAAS,GAAjD,mBAAOuC,EAAP,KAAqBC,EAArB,KACA,EAA0BxC,mBAAS,IAAnC,mBAAcyC,GAAd,WACA,EAAsC9B,qBAAWjB,GAAjD,mBAAoBmB,GAApB,WAEA,EAA0Bb,mBAAS,kBAAnC,mBAAO0C,EAAP,KAAcC,EAAd,KACA,EAAgC3C,mBAAS,WAAzC,mBAAO4C,EAAP,KAAiBC,EAAjB,KA6CA,OACE,qBAAKC,UAAU,kBAAf,SACE,uBAAMC,SA7CgB,SAAAC,GACxBA,EAAMC,iBACNT,GAAgB,GAEhBU,IAAE,gBAAgBC,KAAK,iBAEvBV,EAAS,IAET,IAAMW,EAAsB,0CAE5BpC,MAAMC,oDAAoD,CACxDC,OAAQ,OACRC,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BiC,KAAMC,KAAKC,UAAU,CAAEC,SAAUd,EAAOE,eAEvCrB,KANH,uCAMQ,WAAMC,GAAN,eAAAC,EAAA,yDACJe,GAAgB,GACXhB,EAASE,GAFV,gBAGsB,MAApBF,EAASiC,OACXhB,EAAS,yCACoB,MAApBjB,EAASiC,OAClBhB,EAAS,2CAETA,EAASW,GART,uCAWiB5B,EAASG,OAX1B,OAWIC,EAXJ,OAYFE,QAAQC,IAAI,OAAQH,GACpBf,GAAe,SAAAgB,GACb,OAAO,2BAAKA,GAAZ,IAAuBP,MAAOM,EAAKN,WAErCvB,EAAM2D,cACNrB,EAAQsB,KAAK,gCAjBX,4CANR,uDA2BKC,OAAM,SAAAC,GACLrB,GAAgB,GAChBC,EAASW,OAMwBN,UAAU,aAA/C,UACE,uBACGA,UAAY,mBACZgB,YAAc,QACdC,KAAM,QACNC,KAAM,QACN5D,MAAUsC,EACVuB,QAAY,SAAAjB,GAAK,OAAIL,EAASK,EAAMkB,OAAO9D,UAE9C,uBACG0C,UAAY,sBACZgB,YAAc,WACdC,KAAO,WACPC,KAAO,WACP5D,MAAUwC,EACVqB,QAAW,SAAAjB,GAAK,OAAIH,EAAYG,EAAMkB,OAAO9D,UAEhD,wBAAQ0C,UAAY,cAAciB,KAAK,SAASI,SAAW5B,EAA3D,0BCmCO6B,EA9GI,SAACrE,GAElB,MAAwCC,oBAAS,GAAjD,mBAAOuC,EAAP,KAAqBC,EAArB,KACA,EAA0BxC,mBAAS,IAAnC,mBAAcyC,GAAd,WACA,EAAsC9B,qBAAWjB,GAAjD,mBAAoBmB,GAApB,WAEA,EAAkCb,mBAAS,IAA3C,mBAAOkC,EAAP,KAAkBmC,EAAlB,KACA,EAAgCrE,mBAAS,IAAzC,mBAAOmC,EAAP,KAAiBmC,EAAjB,KACA,EAA8CtE,mBAAS,IAAvD,mBAAOuE,EAAP,KAAwBC,EAAxB,KACA,EAA0BxE,mBAAS,IAAnC,mBAAO0C,EAAP,KAAcC,EAAd,KACA,EAAgC3C,mBAAS,IAAzC,mBAAO4C,EAAP,KAAiBC,EAAjB,KAEIR,EAAUC,cAkDd,OACE,qBAAKQ,UAAU,kBAAf,SACE,uBAAMC,SAlDgB,SAAAC,GAExBA,EAAMC,iBACNT,GAAgB,GAEhBU,IAAE,gBAAgBC,KAAK,qBAEvBV,EAAS,IAET,IAAMW,EAAsB,gDAE5BpC,MAAMC,qDAAqD,CACzDC,OAAQ,OACRC,YAAa,UACbC,QAAS,CAAE,eAAgB,oBAC3BiC,KAAMC,KAAKC,UAAU,CAAErB,YAAWC,WAAUoC,kBAAiBf,SAAUd,EAAOE,eAE7ErB,KANH,uCAMQ,WAAMC,GAAN,iBAAAC,EAAA,yDACJe,GAAgB,GACXhB,EAASE,GAFV,oBAGsB,MAApBF,EAASiC,OAHX,gBAIAhB,EAAS,yCAJT,0BAK6B,MAApBjB,EAASiC,OALlB,iBAMAhB,EAAS,2CANT,2BAO6B,MAApBjB,EAASiC,OAPlB,wBAQA3B,QAAQC,IAAIP,GARZ,UASmBA,EAASG,OAT5B,SASMC,EATN,QAUS6C,SAAShC,EAASb,EAAK6C,SAAWrB,GAV3C,wBAYAX,EAASW,GAZT,iDAeiB5B,EAASG,OAf1B,QAeIC,EAfJ,OAgBFf,GAAe,SAAAgB,GACb,OAAO,2BAAKA,GAAZ,IAAuBP,MAAOM,EAAKN,WAErCQ,QAAQC,IAAI,cAAeH,EAAKN,OAChCvB,EAAM2D,cACNrB,EAAQsB,KAAK,KArBX,4CANR,uDA+BKC,OAAM,SAAAC,GACLrB,GAAgB,GAChBC,EAASW,OAMwBN,UAAU,aAA/C,UACE,uBACCA,UAAY,wBACZgB,YAAc,aACdE,KAAM,aACN5D,MAAU8B,EACV+B,QAAY,SAAAjB,GAAK,OAAIqB,EAAarB,EAAMkB,OAAO9D,UAEhD,uBACC0C,UAAY,uBACZgB,YAAc,WACdE,KAAO,YACP5D,MAAU+B,EACV8B,QAAW,SAAAjB,GAAK,OAAIsB,EAAYtB,EAAMkB,OAAO9D,UAE9C,uBACC0C,UAAY,8BACZgB,YAAc,mBACdE,KAAO,mBACP5D,MAAUmE,EACVN,QAAW,SAAAjB,GAAK,OAAIwB,EAAmBxB,EAAMkB,OAAO9D,UAErD,uBACC0C,UAAY,mBACZgB,YAAc,QACdC,KAAM,QACNC,KAAM,QACN5D,MAAUsC,EACVuB,QAAY,SAAAjB,GAAK,OAAIL,EAASK,EAAMkB,OAAO9D,UAE5C,uBACC0C,UAAY,sBACZgB,YAAc,WACdC,KAAO,WACPC,KAAO,WACP5D,MAAUwC,EACVqB,QAAW,SAAAjB,GAAK,OAAIH,EAAYG,EAAMkB,OAAO9D,UAE9C,wBAAQ0C,UAAY,cAAciB,KAAK,SAASI,SAAW5B,EAA3D,2BC1EOmC,EA7BA,SAAC3E,GAEd,MAAsCY,qBAAWjB,GAAjD,mBAAOkB,EAAP,KAAoBC,EAApB,KAEIwB,EAAUC,cAkBb,OAEC,wBAAQqC,QAlBY,WACrB3D,MAAMC,qDAAqD,CACzDE,YAAa,UACbC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYT,EAAYU,UAEpCC,KANL,uCAMU,WAAMC,GAAN,SAAAC,EAAA,sDACNZ,GAAe,SAAAgB,GACb,OAAO,2BAAKA,GAAZ,IAAuBG,aAAS4C,EAAWtD,MAAO,UAEpDuD,OAAOC,aAAaC,QAAQ,SAAUC,KAAKC,OAC3C5C,EAAQsB,KAAK,KALP,2CANV,wDAiBiCb,UAAY,gBAA5C,sB,iBCHJoC,IAAMC,cAAc,SAEpB,IA8IeC,EA9IH,SAACrF,GAEX,MAAsCY,qBAAWjB,GAAjD,mBAAOkB,EAAP,KAAoBC,EAApB,KACA,EAA4Cb,oBAAS,GAArD,mBAAOqF,EAAP,KAAuBC,EAAvB,KACA,EAA8CtF,oBAAS,GAAvD,mBAAOuF,EAAP,KAAwBC,EAAxB,KAEMC,EAAuB,YAEH,IAApBF,GACFC,GAAmB,GAGtBF,GAAkB,IAGbI,EAAwB,WAC7BJ,GAAkB,IAGbK,EAAwB,YAEL,IAAnBN,GACFC,GAAkB,GAEpBE,GAAmB,IAGfI,EAAyB,WAC9BJ,GAAmB,IAKdK,EAAa9E,uBAAY,WAC/Be,QAAQC,IAAI,gBAEZf,MAAMC,2DAA2D,CAC/DC,OAAQ,OACRC,YAAa,UACbC,QAAS,CAAE,eAAgB,sBAC1BG,KAJH,uCAIQ,WAAMC,GAAN,eAAAC,EAAA,yDACNK,QAAQC,IAAI,gBAAgBP,IACxBA,EAASE,GAFP,gCAGeF,EAASG,OAHxB,OAGEC,EAHF,OAIJf,GAAe,SAAAgB,GACb,OAAO,2BAAKA,GAAZ,IAAuBP,MAAOM,EAAKN,WALjC,sBAQJT,GAAe,SAAAgB,GACb,OAAO,2BAAKA,GAAZ,IAAuBP,MAAO,UAT5B,OAaNwE,WAAWD,EAAY,KAbjB,4CAJR,yDAmBG,CAAChF,IAOJ,OALAoB,qBAAU,WACRH,QAAQC,IAAI,kBACZ8D,MACC,CAACA,IAGF,cAAC,IAAD,UACE,gCACE,+BACE,6BACE,cAAC,IAAD,CAAME,GAAG,IAAT,oBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,SAAT,wBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,oBAAT,oCAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,+BAAT,6BAGJ,gCAGGnF,EAAYU,MAAQ,GACrB,wBAAQqD,QAASc,EAAsB3C,UAAY,eAAnD,oBACA,eAAC,IAAD,CACEkD,OAAQX,EACRvC,UAAU,cACVmD,iBAAiB,UACjBC,eAAgBR,EAChBS,aAAa,cALf,UAOE,wBAAQxB,QAASe,EAAuB5C,UAAU,cAAlD,eACA,cAAC,EAAD,CAAWY,YAAcgC,IAEzB,kDACgB,mBAAGf,QAASgB,EAAZ,2BAKjB/E,EAAYU,MACb,cAAC,EAAD,IAAa,GAEZV,EAAYU,MAAQ,GACrB,wBAAQqD,QAASgB,EAAuB7C,UAAY,eAApD,qBACA,eAAC,IAAD,CACEkD,OAAQT,EACRzC,UAAU,cACVmD,iBAAiB,UACjBC,eAAgBN,EAChBO,aAAa,cALf,UAOE,wBAAQxB,QAASiB,EAAwB9C,UAAU,cAAnD,eACA,cAAC,EAAD,CAAYY,YAAckC,IAE1B,qDACmB,mBAAGjB,QAASc,EAAZ,6BAMvB,uBAEA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOW,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,oBAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,+BAAlB,SACE,cAAC,EAAD,eClJGC,MAXf,WAEE,OACE,qBAAKxD,UAAU,MAAf,SACE,cAAC,EAAD,UACE,cAAC,EAAD,SCCOyD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlF,MAAK,YAAkD,IAA/CmF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,EAAQ,IAAUC,SAElBC,IAASC,OACP,cAAC,IAAMC,WAAP,UAEI,cAAC,EAAD,MAGJC,SAASC,eAAe,SAM1Bd,M","file":"static/js/main.aaf77433.chunk.js","sourcesContent":["import React, {useState} from 'react';\n\nconst UserContext = React.createContext([{}, () => {}]);\n\nlet initialState = {};\n\nconst UserProvider = props => {\n  const [state, setState] = useState(initialState);\n\n  return (\n    <UserContext.Provider value={[state, setState]}>\n      { props.children }\n    </UserContext.Provider>\n  )\n}\n\nexport { UserContext, UserProvider };\n","import React, { Component } from 'react';\n\nclass Home extends Component {\n\n  render() {\n    return (\n      <div>\n        I'm the homepage!\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\n\nconst About = ({}) => (\n  <div>\n    I'm the About page!\n  </div>\n);\n\nexport default About;\n","import React from 'react';\n\nconst Research = ({}) => (\n  <div>\n\n  About Current Open Source Research Project\n\n  Manta ray catshark shaking filefish. Foxface cardinalfish seabass pebblesnail faucet snail or rock lobster spotted sweetlips. Hippo tang pebblesnail fins raced. Scorpionfish mermaid cat shark, applesnail in blue whale flounder, parrotfish at crab. Banana wrasse in yellow pseudochromis non mermaid parrotfish mystery snail. Nurse shark at goatfish grey whale. The crackin crazy Neo.\n\n  Goby nurse shark moon. Neon goby banded grunt kelp snowcrab, fingernail clam stingray colorful gold damsel. Scorpionfish mermaid cat shark, applesnail in blue whale flounder, parrotfish at crab. Swimming are milk shark zebra moray est. Coral hogfish fingernail clam in tilefish mandarinfish crab lionfish weasel shark. Quagga mussel cat shark is batfish frogfish. Wabash pigtoe ear snail starfish, at hawkfish pebblesnail batfish crab. Wobbegong shark blue whale gold damsel faucet snail, in snake eel sea cora.\n  </div>\n);\n\nexport default Research;\n","import React, { useCallback, useContext, useEffect } from \"react\"\nimport { UserContext } from \"../../../contexts/UserContext\"\n\nconst Contribute = () => {\n  const [userContext, setUserContext] = useContext(UserContext)\n\n  const fetchUserDetails = useCallback(() => {\n    fetch(process.env.REACT_APP_API_ENDPOINT + \"users/me\", {\n      method: \"GET\",\n      credentials: \"include\",\n      // Pass authentication token as bearer token in header\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${userContext.token}`,\n      },\n    }).then(async response => {\n      if (response.ok) {\n        const data = await response.json()\n        setUserContext(oldValues => {\n          console.log('user data is:', data)\n          return { ...oldValues, details: data }\n        })\n      } else {\n          setUserContext(oldValues => {\n            return { ...oldValues, details: null }\n          })\n      }\n    })\n  }, [setUserContext, userContext.token])\n  useEffect(() => {\n    // fetch only when user details are not present\n    if (!userContext.details) {\n      fetchUserDetails()\n    }\n  }, [userContext.details, fetchUserDetails])\n\n\n  return (\n    <div>\n      <h1>Contribute to Our Research Project</h1>\n\n      {!userContext.details ? '' :\n      <p>\n        Welcome&nbsp;\n\n        {userContext.details.firstName}\n        {userContext.details.lastName}\n          </p>\n      }\n\n    </div>\n  )\n};\nexport default Contribute;\n","import React, { useContext, useState} from 'react';\nimport { UserContext } from '../../contexts/UserContext';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\n\n\nimport $ from 'jquery';\n\nconst LoginForm = (props) => {\n\n  let history = useHistory();\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [userContext, setUserContext] = useContext(UserContext);\n\n  const [email, setEmail] = useState(\"test@gmail.com\");\n  const [password, setPassword] = useState(\"chicken\");\n\n  const formSubmitHandler = event =>  {\n    event.preventDefault();\n    setIsSubmitting(true);\n\n    $('.form-button').html(\"Logging in...\");\n\n    setError(\"\");\n\n    const genericErrorMessage = \"Something went wrong! Please try again.\";\n\n    fetch(process.env.REACT_APP_API_ENDPOINT + \"users/login\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username: email, password }),\n    })\n      .then(async response => {\n        setIsSubmitting(false)\n        if (!response.ok) {\n          if (response.status === 400) {\n            setError(\"Please fill all the fields correctly!\")\n          } else if (response.status === 401) {\n            setError(\"Invalid email and password combination.\")\n          } else {\n            setError(genericErrorMessage)\n          }\n        } else {\n          const data = await response.json()\n          console.log('data', data);\n          setUserContext(oldValues => {\n            return { ...oldValues, token: data.token }\n          })\n          props.handleClose();\n          history.push(\"/research-project/contribute\");\n          //TODO: redirect to research-project/contribute page\n        }\n      })\n        .catch(error => {\n          setIsSubmitting(false);\n          setError(genericErrorMessage);\n        })\n  }\n\n  return (\n    <div className=\"login-component\">\n      <form onSubmit={ formSubmitHandler } className=\"login-form\">\n        <input\n           className = \"input-item email\"\n           placeholder = \"email\"\n           type =\"email\"\n           name =\"email\"\n           value = { email }\n           onInput = { event => setEmail(event.target.value) }\n        />\n        <input\n           className = \"input-item password\"\n           placeholder = \"password\"\n           type = \"password\"\n           name = \"password\"\n           value = { password }\n           onInput= { event => setPassword(event.target.value) }\n        />\n        <button className = \"form-button\" type=\"submit\" disabled={ isSubmitting }>\n          Log In\n        </button>\n      </form>\n\n    </div>\n  );\n}\n\nexport default LoginForm;\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\nimport { UserContext } from '../../contexts/UserContext';\nimport { useHistory } from \"react-router-dom\";\n\nimport $ from 'jquery';\n\nconst SignupForm = (props) => {\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [userContext, setUserContext] = useContext(UserContext);\n\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [institutionName, setInstitutionName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  let history = useHistory();\n\n  const formSubmitHandler = event => {\n\n    event.preventDefault();\n    setIsSubmitting(true);\n\n    $('.form-button').html(\"Signing you up...\");\n\n    setError(\"\");\n\n    const genericErrorMessage = \"Something went wrong! Please try again later.\"\n\n    fetch(process.env.REACT_APP_API_ENDPOINT + \"users/signup\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ firstName, lastName, institutionName, username: email, password }),\n    })\n      .then(async response => {\n        setIsSubmitting(false);\n        if (!response.ok) {\n          if (response.status === 400) {\n            setError(\"Please fill all the fields correctly!\");\n          } else if (response.status === 401) {\n            setError(\"Invalid email and password combination.\");\n          } else if (response.status === 500) {\n            console.log(response);\n            const data = await response.json();\n            if (data.message) setError(data.message || genericErrorMessage);\n          } else {\n            setError(genericErrorMessage);\n          }\n        } else {\n          const data = await response.json();\n          setUserContext(oldValues => {\n            return { ...oldValues, token: data.token }\n          })\n          console.log('token data:', data.token);\n          props.handleClose();\n          history.push(\"/\");\n          //TODO: redirect to about you form\n        }\n      })\n        .catch(error => {\n          setIsSubmitting(false);\n          setError(genericErrorMessage);\n        })\n  }\n\n  return (\n    <div className=\"login-component\">\n      <form onSubmit={ formSubmitHandler } className=\"login-form\">\n        <input\n         className = \"input-item first-name\"\n         placeholder = \"First Name\"\n         name =\"first-name\"\n         value = { firstName }\n         onInput = { event => setFirstName(event.target.value) }\n        />\n        <input\n         className = \"input-item last-name\"\n         placeholder = \"LastName\"\n         name = \"last-name\"\n         value = { lastName }\n         onInput= { event => setLastName(event.target.value) }\n        />\n        <input\n         className = \"input-item institution-name\"\n         placeholder = \"Institution Name\"\n         name = \"institution-name\"\n         value = { institutionName }\n         onInput= { event => setInstitutionName(event.target.value) }\n        />\n        <input\n         className = \"input-item email\"\n         placeholder = \"email\"\n         type =\"email\"\n         name =\"email\"\n         value = { email }\n         onInput = { event => setEmail(event.target.value) }\n        />\n        <input\n         className = \"input-item password\"\n         placeholder = \"password\"\n         type = \"password\"\n         name = \"password\"\n         value = { password }\n         onInput= { event => setPassword(event.target.value) }\n        />\n        <button className = \"form-button\" type=\"submit\" disabled={ isSubmitting }>\n         Sign up\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default SignupForm;\n","import React, {useContext } from 'react';\nimport { useHistory} from \"react-router-dom\";\nimport { UserContext } from '../../contexts/UserContext';\n\n\nconst Logout = (props) => {\n\n  const [userContext, setUserContext] = useContext(UserContext);\n\n  let history = useHistory();\n\n  const logoutHandler = () => {\n   fetch(process.env.REACT_APP_API_ENDPOINT + \"users/logout\", {\n     credentials: \"include\",\n     headers: {\n       \"Content-Type\": \"application/json\",\n       Authorization: `Bearer ${userContext.token}`,\n     },\n     }).then(async response => {\n       setUserContext(oldValues => {\n         return { ...oldValues, details: undefined, token: null }\n       })\n       window.localStorage.setItem(\"logout\", Date.now())\n       history.push('/');\n     })\n   }\n\n   return(\n\n    <button onClick={logoutHandler} className = 'logout-button'>Log Out</button>\n\n  );\n};\n\nexport default Logout;\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\nimport { HashRouter as Router, Switch, Route, Link, useHistory} from \"react-router-dom\";\nimport { UserContext } from '../../contexts/UserContext';\n\nimport Home from '../pages/home';\nimport About from '../pages/about';\nimport Research from '../pages/research';\nimport Contribute from '../pages/research/Contribute'\n\nimport LoginForm from '../registrations/LoginForm';\nimport SignupForm from '../registrations/SignupForm';\nimport Logout from './Logout'\n\nimport Modal from 'react-modal';\n\nconst customStyles = {\n  content : {\n    top                   : '50%',\n    left                  : '50%',\n    right                 : 'auto',\n    bottom                : 'auto',\n    marginRight           : '-50%',\n    transform             : 'translate(-50%, -50%)'\n  }\n};\n\nModal.setAppElement('#root');\n\nconst Nav = (props) => {\n\n  const [userContext, setUserContext] = useContext(UserContext);\n  const [showLogInModal, setShowLogInModal] = useState(false);\n  const [showSignUpModal, setShowSignUpModal] = useState(false);\n\n  const handleOpenLogInModal = () => {\n\n    if (showSignUpModal === true) {\n      setShowSignUpModal(false)\n    }\n\n   setShowLogInModal(true);\n  }\n\n  const handleCloseLogInModal = () => {\n   setShowLogInModal(false);\n }\n\n  const handleOpenSignUpModal = () => {\n\n    if (showLogInModal === true) {\n      setShowLogInModal(false);\n    }\n    setShowSignUpModal(true);\n  }\n\n  const handleCloseSignUpModal = () => {\n   setShowSignUpModal(false);\n }\n\n\n\n  const verifyUser = useCallback(() => {\n  console.log('verifying...');\n\n  fetch(process.env.REACT_APP_API_ENDPOINT + \"users/refreshToken\", {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: { \"Content-Type\": \"application/json\" },\n  }).then(async response => {\n    console.log('response is: ',response);\n    if (response.ok) {\n      const data = await response.json()\n      setUserContext(oldValues => {\n        return { ...oldValues, token: data.token }\n      })\n    } else {\n      setUserContext(oldValues => {\n        return { ...oldValues, token: null }\n      })\n    }\n    // call refreshToken every 5 minutes to renew the authentication token.\n    setTimeout(verifyUser, 5 * 60 * 1000)\n  })\n  }, [setUserContext])\n\n  useEffect(() => {\n    console.log('verifying user');\n    verifyUser()\n  }, [verifyUser])\n\n  return (\n    <Router>\n      <div>\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/about\">About Us</Link>\n          </li>\n          <li>\n            <Link to=\"/research-project\">Open Source Research</Link>\n          </li>\n          <li>\n            <Link to=\"/research-project/contribute\">Contribute</Link>\n          </li>\n        </ul>\n        <div>\n\n\n          {userContext.token ? '' :\n          <button onClick={handleOpenLogInModal} className = 'login-button'>Log In</button>}\n          <Modal\n            isOpen={showLogInModal}\n            className=\"Modal login\"\n            overlayClassName=\"Overlay\"\n            onRequestClose={handleCloseLogInModal}\n            contentLabel='login popup'\n          >\n            <button onClick={handleCloseLogInModal} className='modal-close'>X</button>\n            <LoginForm handleClose={ handleCloseLogInModal }/>\n\n            <div>\n             Not a member?  <a onClick={handleOpenSignUpModal}>Sign Up</a>\n            </div>\n\n          </Modal>\n\n          {userContext.token ?\n          <Logout /> : ''}\n\n          {userContext.token ? '' :\n          <button onClick={handleOpenSignUpModal} className = 'login-button'>Sign Up</button>}\n          <Modal\n            isOpen={showSignUpModal}\n            className=\"Modal login\"\n            overlayClassName=\"Overlay\"\n            onRequestClose={handleCloseSignUpModal}\n            contentLabel='login popup'\n          >\n            <button onClick={handleCloseSignUpModal} className='modal-close'>X</button>\n            <SignupForm handleClose={ handleCloseSignUpModal }/>\n\n            <div>\n             Already a member? <a onClick={handleOpenLogInModal}>Log In</a>\n            </div>\n\n          </Modal>\n        </div>\n\n        <hr />\n\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/about\">\n            <About />\n          </Route>\n          <Route exact path=\"/research-project\">\n            <Research />\n          </Route>\n          <Route exact path=\"/research-project/contribute\">\n            <Contribute />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\nexport default Nav;\n","import './App.scss';\nimport Nav from './common/Nav';\nimport { useContext, useState } from \"react\";\nimport { UserProvider }  from '../contexts/UserContext';\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <UserProvider>\n        <Nav />\n      </UserProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n// import { UserProvider }  from './contexts/UserContext';\nimport reportWebVitals from './reportWebVitals';\n\nrequire('dotenv').config();\n\nReactDOM.render(\n  <React.StrictMode>\n\n      <App />\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}